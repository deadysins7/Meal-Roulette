<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>오늘의 운세 카드 앱</title>
    <style>
      /*
        기본 스타일 가이드
        - 외부 라이브러리 없이 HTML/CSS/JS 한 파일로 구성
        - 화면 중앙 정렬, 반응형, 시각적으로 깔끔한 카드 UI
        - 카드 앞/뒤 면을 사용한 Y축 플립 애니메이션
      */

      :root {
        --bg: #0e0f13;
        --panel: #171923;
        --panel-alt: #1d2030;
        --text: #e8ecf1;
        --muted: #a6b0c0;
        --accent: #7c9aff;
        --accent-2: #9ef0ff;
        --shadow: 0 10px 30px rgba(0, 0, 0, 0.45);
        --radius: 16px;
        --card-w: min(92vw, 560px);
        --card-h: clamp(220px, 36vh, 360px);
        --transition: 700ms cubic-bezier(0.22, 1, 0.36, 1);
      }

      html, body {
        height: 100%;
        background: radial-gradient(1200px 800px at 80% -10%, #1a1f2d 0%, transparent 60%),
                    radial-gradient(1000px 700px at -10% 110%, #0b1220 0%, transparent 60%),
                    var(--bg);
        color: var(--text);
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      .app {
        min-height: 100%;
        display: grid;
        place-items: center;
        padding: 24px;
      }

      .stack {
        display: grid;
        gap: 20px;
        justify-items: center;
        width: 100%;
      }

      h1 {
        margin: 0 0 4px 0;
        font-size: clamp(20px, 3.2vw, 28px);
        font-weight: 700;
        letter-spacing: -0.02em;
        text-align: center;
      }

      .sub {
        margin: 0 0 8px 0;
        color: var(--muted);
        font-size: 14px;
        text-align: center;
      }

      /* 카드 3D 무대 */
      .stage {
        width: var(--card-w);
        height: var(--card-h);
        perspective: 1400px; /* 3D 원근감 */
      }

      .card {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: var(--radius);
        transform-style: preserve-3d;
        transition: transform var(--transition);
        box-shadow: var(--shadow);
      }

      .card.is-flipped {
        transform: rotateY(180deg);
      }

      .face {
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
        padding: 24px;
        border-radius: var(--radius);
        backface-visibility: hidden; /* 뒤집힐 때 글자 숨김 */
      }

      .front {
        background: linear-gradient(160deg, var(--panel), var(--panel-alt));
        outline: 1px solid rgba(255, 255, 255, 0.06);
      }

      .back {
        background: linear-gradient(200deg, #152036, #121725);
        outline: 1px solid rgba(255, 255, 255, 0.06);
        transform: rotateY(180deg);
      }

      .fortune {
        width: 100%;
        text-align: center;
        line-height: 1.5;
        letter-spacing: -0.01em;
        font-size: clamp(18px, 2.4vw, 22px);
      }

      .chips {
        position: absolute;
        bottom: 14px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 10px;
        opacity: 0.9;
        pointer-events: none;
      }

      .chip {
        font-size: 11px;
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(124, 154, 255, 0.14);
        color: var(--accent-2);
        border: 1px solid rgba(124, 154, 255, 0.25);
      }

      .controls {
        display: grid;
        gap: 10px;
        justify-items: center;
      }

      .btn {
        appearance: none;
        border: 0;
        cursor: pointer;
        border-radius: 12px;
        padding: 14px 18px;
        font-weight: 700;
        letter-spacing: 0.02em;
        background: linear-gradient(135deg, #3b5bff, #7c9aff 60%, #9ef0ff);
        color: #0b1020;
        box-shadow: 0 8px 20px rgba(124, 154, 255, 0.35), inset 0 0 0 1px rgba(255,255,255,0.3);
        transition: transform 180ms ease, filter 180ms ease;
      }

      .btn:active {
        transform: translateY(1px) scale(0.995);
        filter: brightness(0.98);
      }

      .hint {
        color: var(--muted);
        font-size: 12px;
        text-align: center;
      }

      /* 더 작은 화면 보정 */
      @media (max-width: 380px) {
        .chips { display: none; }
      }
    </style>
  </head>
  <body>
    <main class="app">
      <section class="stack" aria-label="오늘의 운세 카드 앱">
        <div>
          <h1>오늘의 운세 카드 앱</h1>
          <p class="sub">버튼을 눌러 오늘의 메시지를 확인하세요</p>
        </div>

        <!-- 카드 무대: 앞/뒤 두 면을 번갈아 보여주며 플립 -->
        <div class="stage">
          <div class="card" id="card">
            <div class="face front">
              <div class="fortune" id="fortuneFront">행운을 불러올 준비가 되었어요 ✨</div>
              <div class="chips">
                <div class="chip">오늘의 운세</div>
                <div class="chip">Daily Fortune</div>
              </div>
            </div>
            <div class="face back">
              <div class="fortune" id="fortuneBack">새로운 시작이 당신을 기다리고 있어요 🌱</div>
              <div class="chips">
                <div class="chip">긍정</div>
                <div class="chip">행운</div>
              </div>
            </div>
          </div>
        </div>

        <div class="controls">
          <button class="btn" id="drawBtn" aria-label="오늘의 운세 뽑기">오늘의 운세 뽑기</button>
          <p class="hint">메시지를 바꾸면 카드가 뒤집혀요</p>
        </div>
      </section>
    </main>

    <script>
      //
      // 사용자가 쉽게 편집할 수 있도록 아래 배열의 문구를 자유롭게 추가/수정하세요.
      // 문자열은 따옴표로 감싸고 쉼표(,)로 구분합니다. (최소 10개 예시 포함)
      //
      const FORTUNES = [
        "오랫동안 바라던 소식이 찾아옵니다. 기다림의 결실을 맛보세요.",
        "작은 친절이 큰 행운으로 돌아옵니다. 먼저 미소를 건네보세요.",
        "새로운 기회가 열립니다. 망설임보다 한 걸음이 중요해요.",
        "오늘의 선택이 내일을 바꿉니다. 자신감을 믿어보세요.",
        "뜻밖의 도움을 받게 됩니다. 진심으로 감사함을 전하세요.",
        "노력이 빛을 발합니다. 꾸준함이 당신의 무기예요.",
        "행운의 바람이 당신 편입니다. 마음의 돛을 펼치세요.",
        "우연처럼 보이는 만남이 인연이 됩니다. 열린 마음을 유지하세요.",
        "하고 싶은 말이 있다면 오늘 전해보세요. 좋은 반응이 돌아옵니다.",
        "집중력이 높아지는 날입니다. 미뤄둔 일을 마무리해보세요.",
        "걱정이 하나 사라집니다. 마음이 한결 가벼워질 거예요.",
        "작은 성공이 연쇄적으로 이어집니다. 시작이 반이에요.",
      ];

      // 상태 및 요소 참조
      const card = document.getElementById('card');
      const drawBtn = document.getElementById('drawBtn');
      const fortuneFront = document.getElementById('fortuneFront');
      const fortuneBack = document.getElementById('fortuneBack');

      // 현재 어느 면이 보이는지 추적 (true: front, false: back)
      let isFrontVisible = true;
      // 마지막으로 보여준 메시지 값. 같은 문구가 연속으로 나오지 않게 하기 위함
      let lastMessage = fortuneFront.textContent?.trim() || '';

      // 랜덤 메시지 선택 함수 (바로 직전 메시지는 피함)
      function pickRandomFortune() {
        if (FORTUNES.length === 0) return '';
        if (FORTUNES.length === 1) return FORTUNES[0];
        let next = lastMessage;
        // 다른 문구가 나올 때까지 뽑기 (배열 길이가 2 이상이므로 안전)
        while (next === lastMessage) {
          const index = Math.floor(Math.random() * FORTUNES.length);
          next = FORTUNES[index];
        }
        return next;
      }

      // 카드 플립 로직
      function showNextFortune() {
        const nextText = pickRandomFortune();

        // 현재 보이지 않는 면에 다음 문구를 미리 써둡니다.
        if (isFrontVisible) {
          fortuneBack.textContent = nextText;
        } else {
          fortuneFront.textContent = nextText;
        }

        // 플립 트리거
        card.classList.toggle('is-flipped');

        // 애니메이션이 완료되면 상태를 갱신합니다.
        const onTransitionEnd = (event) => {
          if (event.propertyName !== 'transform') return;
          card.removeEventListener('transitionend', onTransitionEnd);
          isFrontVisible = !isFrontVisible;
          lastMessage = nextText;
        };
        card.addEventListener('transitionend', onTransitionEnd);
      }

      // 버튼 클릭 시 다음 운세를 보여줍니다.
      drawBtn.addEventListener('click', showNextFortune);

      // Enter/Space 키 접근성 보조 (버튼 기본 동작이 지원하지만 데스크톱 스크린리더 호환성 개선)
      drawBtn.addEventListener('keyup', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          showNextFortune();
        }
      });

      // 첫 진입 시 약한 부유 효과를 위해 약간의 3D 기울임을 추가했다가 되돌립니다.
      // 시각적 몰입감을 높이는 소소한 연출입니다. (선택 사항)
      setTimeout(() => {
        card.style.transition = 'transform 900ms cubic-bezier(0.22,1,0.36,1)';
        card.style.transform = 'rotateY(-6deg) rotateX(3deg)';
        setTimeout(() => {
          card.style.transform = '';
          // transition 설정을 원래 값으로 복구
          setTimeout(() => {
            card.style.transition = '';
          }, 950);
        }, 380);
      }, 300);
    </script>
  </body>
  </html>



